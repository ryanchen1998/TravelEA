@import play.mvc.Http.Request
@import helper._

@(user: String, tripList: Seq[models.Trip])(implicit request: Request, messages: play.i18n.Messages)

@scripts = {
    <script src="@routes.Assets.at("javascripts/trips.js")" type="text/javascript"></script>
}

@layouts.imageHeader("Trips", user, "images/trips-bg.jpg", scripts){

    <head>
        @* Imports MBBootstrap Datatables CSS. *@
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/datatables.min.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/bootstrap.min.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
    </head>

    <body>
        <div class="container">
            <div class="text-center">
                <a class="btn btn-primary" href="/trips/create" role="button">Create New Trip</a>
            </div><br>

            <div>
                <table id="dtPeople" class="table table-hover" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th class="th-sm">Name</th>
                            <th class="th-sm">Number of Destinations</th>
                            <th class="th-sm">Start</th>
                            <th class="th-sm">End</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for(t <- tripList) {
                            <tr id=@t.id>
                                @*<td>@t.tripData[0].destinationId</td>*@
                                @*<td>@t.tripData[0].destinationId</td>*@
                                @*<td>@t.tripData.length</td>*@
                                <td id="startDestination">destStart</td>
                                <td id="endDestination">destEnd</td>
                                <td>tripLength</td>
                                <td>tripDate</td>
                                <td><button class="btn btn-popup" type="button" onclick=''>View</button></td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </body>
}

<script type="text/javascript">
        updateDestinationInfo("@controllers.backend.routes.DestinationController.getAllDestinations()");
</script>