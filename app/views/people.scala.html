@(user: String, people: List[models.Profile])

@scripts = {
    <script src="@routes.Assets.at("javascripts/people.js")" type="text/javascript"></script>
}

@layouts.imageHeader("People", user, "images/people-bg.jpg", scripts){
    @* The people table *@
    <div>
        <table id="dtPeople" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th class="th-sm">First Name</th>
                    <th class="th-sm">Last Name</th>
                    <th class="th-sm">Gender</th>
                    <th class="th-sm">Age</th>
                    <th class="th-sm">Nationalities</th>
                    <th class="th-sm">Traveller Types</th>
                </tr>
            </thead>
            <tbody>
                @* Populate the table with a list of profile details *@
                @for(person <- people){
                    <tr>
                        <td>@person.firstName</td>
                        <td>@person.lastName</td>
                        <td>@person.gender</td>
                        <td>@person.calculateAge.toString()</td>
                        <td>@person.nationalities.toString()</td>
                        <td>@person.travellerTypes.toString()</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    @* Filter Popup Module Form *@
    <div class="modal fade" id="modalContactForm" tabindex="-1" role="dialog" aria-labelledby="modalLabel"
    aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header text-center">
                    <h4 class="modal-title w-100 font-weight-bold">Search People</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body mx-3">
                    <div>Nationality
                        <i class="fas prefix grey-text"></i>
                        <label data-error="wrong" data-success="right" for="form34"></label>
                    </div>
                    <div>
                        <select id="nationality" class="selectpicker form-control" data-style="form-control selectpicker">
                            <option value="">Select</option>
                        </select>
                    </div>
                    <br/>
                    <div>Gender
                        <i class="fas prefix grey-text"></i>
                    </div>
                    <div>
                        <select id="gender" class="form-control" data-style="form-control selectpicker">
                            <option value="">Select</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <br/>
                    <div>Age Range
                        <i class="fas prefix grey-text"></i>
                        <div class="input-group">
                            <input id="minAge" type="number" class="form-control validate" placeholder="Minimum"/>
                            <span class="input-group-addon pr-3 pl-3"> - </span>
                            <input id="maxAge" type="number" class="form-control validate" placeholder="Maximum"/>
                            <label data-error="wrong" data-success="right"></label>
                        </div>
                    </div>
                    <br/>
                    <div>Type of Traveller
                        <i class="fas prefix grey-text"></i>
                        <label data-error="wrong" data-success="right"></label>
                    </div>
                    <div>
                        <select id="travellerType" class="selectpicker form-control" data-style="form-control selectpicker">
                            <option value="">Select</option>
                        </select>
                    </div>
                    <div class="modal-footer d-flex justify-content-center">
                        <button class="btn btn-popup waves-effect waves-light" data-toggle="modal" data-target="#modalContactForm">
                            Cancel<i class="fas fa-paper-plane-o ml-1"></i></button>
                        <button class="btn btn-popup waves-effect waves-light" onclick='apply()'>Apply<i class="fas fa-paper-plane-o ml-1"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

}

@*Importing javascript functions for auto-populating the nationality and traveller type selection lists in the filter*@
<script type="text/javascript">
        fillCountryInfo("@controllers.backend.routes.DestinationController.getAllCountries()");
        fillTravellerTypes("@controllers.backend.routes.ProfileController.getAllTravellerTypes()");
</script>