@(destList: Seq[models.Destination], user: models.User)

@scripts = {
    <script src="@routes.Assets.at("javascripts/destinations.js")" type="text/javascript"></script>
}

@layouts.imageHeader("Destinations", user, "images/destination-bg.jpg", scripts){
    <body>
        @* The create destination modal popup *@
        <div class="container">
            <div class="modal fade" id="modalContactForm" tabindex="-1" role="dialog" aria-labelledby="modalLabel"
                aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header text-center">
                                <h4 class="modal-title w-100 font-weight-bold">Create New Destination</h4>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <form id="addDestinationForm">
                                <div class="modal-body mx-3">
                                    <div>Name
                                        <i class="fas prefix grey-text"></i>
                                        <input type="text" name="name" class="form-control validate" required>
                                        <label id="nameError" class="error-messages"></label>
                                    </div>

                                    <div>Type
                                        <i class="fas prefix grey-text"></i>
                                        <input type="text" name="_type" class="form-control validate" required>
                                        <label id="_typeError" class="error-messages"></label>
                                    </div>

                                    <div>District
                                        <i class="fas prefix grey-text"></i>
                                        <input type="text" name="district" class="form-control validate" required>
                                        <label id="districtError" class="error-messages"></label>
                                    </div>

                                    <div>Latitude
                                        <i class="fas prefix grey-text"></i>
                                        <input type="number" name="latitude" class="form-control validate" pattern="[0-9]+([\.,][0-9]+)?" step="any" required>
                                        <label id="latitudeError" class="error-messages"></label>
                                    </div>

                                    <div>Longitude
                                        <i class="fas prefix grey-text"></i>
                                        <input type="number" name="longitude" class="form-control validate" pattern="[0-9]+([\.,][0-9]+)?" step="any" required>
                                        <label id="longitudeError" class="error-messages"></label>
                                    </div>

                                    <div>Country
                                        <i class="fas prefix grey-text"></i>
                                        <select id="countryDropDown" name="countryId" class="form-control validate">
                                        </select>
                                        <label id="countryError" class="error-messages"></label>
                                    </div>
                                </div>
                            </form>
                            <div class="modal-footer d-flex justify-content-center">
                                <button class="btn btn-popup waves-effect waves-light" data-toggle="modal" data-target="#modalContactForm">
                                    Cancel<i class="fas fa-paper-plane-o ml-1"></i>
                                </button>
                                <button class="btn btn-popup" onclick=
                                'addDestination(
                                    "@controllers.backend.routes.DestinationController.addNewDestination()",
                                    "@controllers.frontend.routes.ApplicationController.home()")'>
                                    Create
                                </button>
                                <label id="otherError"></label>
                            </div>
                        </div>
                    </div>
                </div>

            <div class="text-center">
                <button class="btn btn-primary" data-toggle="modal" data-target="#modalContactForm" target="_blank" rel="nofollow noopener">Create New Destination</button>
            </div><br>

            @* The destination table *@
           <div>
                <table id="dtDestination" class="table table-striped table-bordered" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th class="th-sm">Name</th>
                            <th class="th-sm">Type</th>
                            <th class="th-sm">District</th>
                            <th class="th-sm">Latitude</th>
                            <th class="th-sm">Longitude</th>
                            <th class="th-sm">Country</th>
                        </tr>
                    </thead>
                    <tbody id="destinationList">
                    @for(d <- destList) {
                        <tr id="@d.id">
                            <td>@d.name</td>
                            <td>@d._type</td>
                            <td>@d.district</td>
                            <td>@d.latitude</td>
                            <td>@d.longitude</td>
                            <td id="country" value="@d.countryId">@d.countryId</td>
                        </tr>}
                    </tbody>
                </table>
           </div>
        </div>

    </body>
}

<script type="text/javascript">
    fillCountryInfo("@controllers.backend.routes.DestinationController.getAllCountries()");
</script>